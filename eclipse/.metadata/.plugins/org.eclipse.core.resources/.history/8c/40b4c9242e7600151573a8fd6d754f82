package com.derf.ei.tileentity;

import net.minecraft.block.Block;
import net.minecraft.tileentity.TileEntity;

import com.derf.ei.block.EIBlockVoidStone;

public class EITileEntityFireTotem extends TileEntity {

	Block[] blocks = new Block[10];
	
	@Override
	public void updateEntity() {
		// TODO Auto-generated method stub
		super.updateEntity();
		this.checkMultiBlock(); 
	}
	
	private void checkMultiBlock() {
		boolean isMultiBlock = true;
		
		blocks[0] = worldObj.getBlock(this.xCoord, this.yCoord-1, this.zCoord);
		blocks[1] = worldObj.getBlock(this.xCoord, this.yCoord-2, this.zCoord);
		blocks[2] = worldObj.getBlock(this.xCoord-1, this.yCoord-2, this.zCoord);
		blocks[3] = worldObj.getBlock(this.xCoord+1, this.yCoord-2, this.zCoord);
		blocks[4] = worldObj.getBlock(this.xCoord, this.yCoord-2, this.zCoord-1);
		blocks[5] = worldObj.getBlock(this.xCoord, this.yCoord-2, this.zCoord+1);
		blocks[6] = worldObj.getBlock(this.xCoord-1, this.yCoord-2, this.zCoord-1);
		blocks[7] = worldObj.getBlock(this.xCoord+1, this.yCoord-2, this.zCoord-1);
		blocks[8] = worldObj.getBlock(this.xCoord+1, this.yCoord-2, this.zCoord+1);
		blocks[9] = worldObj.getBlock(this.xCoord-1, this.yCoord-2, this.zCoord+1);
		
		for(int i = 0; i < blocks.length; i++) {
			
			if(!isVoidStoneTotem(blocks[i])) {
				isMultiBlock = false;
				break;
			}
		}
	}
	
	private boolean isVoidStoneTotem(Block block) {
		return block.getUnlocalizedName().equals("tile.totum") || block.getUnlocalizedName().equals("tile.fire_totum_head");
	}
}
